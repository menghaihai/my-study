## 多数据源

### 引言

**基于SpringBoot多数据源的三种实现：**

- 多套数据源：针对每一套数据源做单独的业务处理，每套数据源都包括数据源配置、会话工厂(SqlSessionFactory)、连接、SQL操作、实体。
- 动态数据源：确定数量的数据源共用一个会话工厂，根据条件动态切换数据源进行连接、SQL操作。
- 参数化变更数据源：根据参数添加数据源，并进行数据源切换，数据源数量不确定，通常用于多个数据库的管理工作。

**三种实现方案的优缺点：**

* 1.多套数据源：  
  实现步骤：  
  (1).配置文件添加主从数据源.  
  (2).将数据源注入到DataSourceConfig.  
  (3).因为每一套数据源有单独的SqlSessionFactory，创建对应的SqlSessionBean并且指定对应的mapper文件地址.  
  (4).创建两套实体以及对应操作的Mapper映射，操作指定的数据库就是用指定的实体。  
  优点：  
    // TODO  
  缺点：  
    // TODO
  

* 2.动态数据源：  
  实现步骤：  
  (1).使用数据库加载对饮的
  

* 3.参数化变更数据源：